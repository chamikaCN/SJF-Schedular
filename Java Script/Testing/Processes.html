<!DOCTYPE html>
<html lang="en">
<head>
<title>testingSchedular1.0</title>
<h1>Schedular</h1>
</head>
<body>
    <form name="Inputform">
        Number of processes   <input type="number" id="num" value="5"/>
        <button type= "button" id="okbutton" onclick="inputNum()"> OK </button><br/><br/>
        <input type="text" id= "ProName" placeholder="Process name "/>
        <input type="number" id= "SubTime" placeholder="Submission time "/>
        <input type="number" id= "BurstTime" placeholder="Burst time "/>
        <button type= "button" id="Addbutton" onclick="addToArray()"> add <br/></button>
        <button type= "button" id="delete" onclick="deleteFromArray()"> delete last entry <br/></button>
        <button type= "button" id="Submitbutton" onclick="submission()"> Calculate </button>

        <div>
            <p id="errors"></p>
            <p id="answer"></p> 
            <p id="testing"></p> 

        </div>

        <script>
            
            var processes = [];
            var numberOfProcesses ; 
            function inputNum(){
                numberOfProcesses = parseInt(document.getElementById("num").value,10);
                
                //document.getElementById("answer").innerText = processes.length ;
            }
        
            function addToArray(){
                
                if (processes.length < numberOfProcesses){
                    processes.push([(document.getElementById("ProName").value).toString(),parseInt(document.getElementById("SubTime")
                    .value,10),parseInt(document.getElementById("BurstTime").value,10)]);
                    document.getElementById("answer").innerText = processes.join() ;
                }else{
                    document.getElementById("Addbutton").disabled = true;
                }
            }

            function deleteFromArray(){

                if (processes.length == 0){
                    document.getElementById("errors".innerText = "No processes to Delete");
                }else{
                    processes.pop();
                    console.log(processes);
                    document.getElementById("Addbutton").disabled = false;
                    document.getElementById("answer").innerText = processes.join() ;

                }
            }

            function nextSJ(processList,time){
                var minPro;
                var minVal = 10000000;
                //processList.forEach(p => {
                for (var p = 0; p <processList.length;p++){
                    if ((processList[p][2] < minVal) && (time >= processList[p][1])){
                        minVal = processList[p][2];
                        minindex = p;
                    }
                } 
                document.getElementById("testing").innerText = processList[minindex];
            }

            function submission(){
                document.getElementById("errors").innerText = "good";

                nextSJ(processes,0);
                //nextSJ(processes,4);
                
            }

        </script>
        
</body>